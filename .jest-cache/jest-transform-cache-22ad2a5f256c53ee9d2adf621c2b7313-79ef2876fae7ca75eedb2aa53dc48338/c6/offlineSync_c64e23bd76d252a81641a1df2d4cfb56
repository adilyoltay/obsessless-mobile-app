719fe639b211d98019c8a33f5bb53547
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.offlineSyncService = exports.OfflineSyncService = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _queryClient = require("../lib/queryClient");
var _netinfo = _interopRequireDefault(require("@react-native-community/netinfo"));
var _unifiedConflictResolver = require("./unifiedConflictResolver");
var _deadLetterQueue = _interopRequireDefault(require("./sync/deadLetterQueue"));
var _circuitBreaker = require("../utils/circuitBreaker");
var _batchOptimizer = _interopRequireDefault(require("./sync/batchOptimizer"));
var OfflineSyncService = exports.OfflineSyncService = function () {
  function OfflineSyncService() {
    (0, _classCallCheck2.default)(this, OfflineSyncService);
    this.isOnline = true;
    this.syncQueue = [];
    this.isSyncing = false;
    this.initializeNetworkListener();
    this.loadSyncQueue();
  }
  return (0, _createClass2.default)(OfflineSyncService, [{
    key: "initializeNetworkListener",
    value: function initializeNetworkListener() {
      var _this = this;
      _netinfo.default.addEventListener(function (state) {
        var _state$isConnected;
        var wasOffline = !_this.isOnline;
        _this.isOnline = (_state$isConnected = state.isConnected) != null ? _state$isConnected : false;
        if (wasOffline && _this.isOnline) {
          _this.processSyncQueue();
        }
      });
    }
  }, {
    key: "loadSyncQueue",
    value: function () {
      var _loadSyncQueue = (0, _asyncToGenerator2.default)(function* () {
        try {
          var currentUserId = yield _asyncStorage.default.getItem('currentUserId');
          try {
            var _yield$import = yield import("./supabase"),
              supabase = _yield$import.default;
            var uid = (supabase == null || supabase.getCurrentUser == null ? void 0 : supabase.getCurrentUser()) || (supabase == null ? void 0 : supabase.currentUser) || null;
            if (uid && typeof uid === 'object' && uid.id) currentUserId = uid.id;
          } catch (_unused) {}
          var queueKey = `syncQueue_${(0, _queryClient.safeStorageKey)(currentUserId)}`;
          var queueData = yield _asyncStorage.default.getItem(queueKey);
          if (queueData) {
            this.syncQueue = JSON.parse(queueData);
          }
        } catch (error) {
          console.error('Error loading sync queue:', error);
        }
      });
      function loadSyncQueue() {
        return _loadSyncQueue.apply(this, arguments);
      }
      return loadSyncQueue;
    }()
  }, {
    key: "saveSyncQueue",
    value: function () {
      var _saveSyncQueue = (0, _asyncToGenerator2.default)(function* () {
        try {
          var currentUserId = yield _asyncStorage.default.getItem('currentUserId');
          try {
            var _yield$import2 = yield import("./supabase"),
              supabase = _yield$import2.default;
            var uid = (supabase == null || supabase.getCurrentUser == null ? void 0 : supabase.getCurrentUser()) || (supabase == null ? void 0 : supabase.currentUser) || null;
            if (uid && typeof uid === 'object' && uid.id) currentUserId = uid.id;
          } catch (_unused2) {}
          var queueKey = `syncQueue_${(0, _queryClient.safeStorageKey)(currentUserId)}`;
          yield _asyncStorage.default.setItem(queueKey, JSON.stringify(this.syncQueue));
        } catch (error) {
          console.error('Error saving sync queue:', error);
        }
      });
      function saveSyncQueue() {
        return _saveSyncQueue.apply(this, arguments);
      }
      return saveSyncQueue;
    }()
  }, {
    key: "addToSyncQueue",
    value: function () {
      var _addToSyncQueue = (0, _asyncToGenerator2.default)(function* (item) {
        var SUPPORTED_ENTITIES = new Set(['compulsion', 'achievement', 'mood_entry', 'ai_profile', 'treatment_plan', 'voice_checkin', 'thought_record']);
        if (!SUPPORTED_ENTITIES.has(item.entity)) {
          console.warn('ðŸš« Dropping unsupported entity from sync queue:', item.entity);
          try {
            var _yield$import3 = yield import("../features/ai/telemetry/aiTelemetry"),
              trackAIInteraction = _yield$import3.trackAIInteraction,
              AIEventType = _yield$import3.AIEventType;
            yield trackAIInteraction(AIEventType.SYSTEM_STATUS, {
              event: 'unsupported_entity_dropped',
              entity: item.entity,
              type: item.type
            });
          } catch (error) {
            console.log('Failed to track unsupported entity drop:', error);
          }
          return;
        }
        var syncItem = Object.assign({}, item, {
          id: `${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
          timestamp: Date.now(),
          retryCount: 0,
          deviceId: (yield _asyncStorage.default.getItem('device_id')) || 'unknown_device',
          lastModified: Date.now()
        });
        this.syncQueue.push(syncItem);
        yield this.saveSyncQueue();
        if (this.isOnline) {
          this.processSyncQueue();
        }
      });
      function addToSyncQueue(_x) {
        return _addToSyncQueue.apply(this, arguments);
      }
      return addToSyncQueue;
    }()
  }, {
    key: "processSyncQueue",
    value: function () {
      var _processSyncQueue = (0, _asyncToGenerator2.default)(function* () {
        var _this2 = this;
        if (this.isSyncing || !this.isOnline || this.syncQueue.length === 0) {
          return;
        }
        this.isSyncing = true;
        try {
          var summary = {
            successful: 0,
            failed: 0,
            conflicts: 0
          };
          var itemsToSync = (0, _toConsumableArray2.default)(this.syncQueue);
          var batchSize = _batchOptimizer.default.calculate(itemsToSync.length);
          var startBatchAt = Date.now();
          var _loop = function* _loop() {
            var item = itemsToSync[i];
            try {
              yield _circuitBreaker.syncCircuitBreaker.execute(function () {
                return _this2.syncItem(item);
              });
              summary.successful++;
              _this2.syncQueue = _this2.syncQueue.filter(function (queueItem) {
                return queueItem.id !== item.id;
              });
            } catch (error) {
              console.error('Error syncing item:', error);
              var queueItem = _this2.syncQueue.find(function (q) {
                return q.id === item.id;
              });
              if (queueItem) {
                queueItem.retryCount++;
                var base = 2000;
                var delay = Math.min(base * Math.pow(2, queueItem.retryCount), 60000) + Math.floor(Math.random() * 500);
                yield new Promise(function (res) {
                  return setTimeout(res, delay);
                });
                if (queueItem.retryCount >= 8) {
                  _this2.syncQueue = _this2.syncQueue.filter(function (q) {
                    return q.id !== item.id;
                  });
                  yield _this2.handleFailedSync(queueItem);
                  summary.failed++;
                }
              }
            }
          };
          for (var i = 0; i < itemsToSync.length; i++) {
            yield* _loop();
          }
          yield this.saveSyncQueue();
          _batchOptimizer.default.record(batchSize, summary.failed === 0, Date.now() - startBatchAt);
          if (summary.successful > 0) {
            try {
              var _firstItem$data, _firstItem$data2;
              var _yield$import4 = yield import("../hooks/useCacheInvalidation"),
                emitSyncCompleted = _yield$import4.emitSyncCompleted;
              var syncedEntities = Array.from(new Set(itemsToSync.slice(0, summary.successful).map(function (item) {
                return item.entity;
              })));
              var firstItem = itemsToSync.find(function (item) {
                var _item$data, _item$data2;
                return ((_item$data = item.data) == null ? void 0 : _item$data.user_id) || ((_item$data2 = item.data) == null ? void 0 : _item$data2.userId);
              });
              var userId = (firstItem == null || (_firstItem$data = firstItem.data) == null ? void 0 : _firstItem$data.user_id) || (firstItem == null || (_firstItem$data2 = firstItem.data) == null ? void 0 : _firstItem$data2.userId);
              emitSyncCompleted(syncedEntities, userId);
              console.log('ðŸ”„ Cache invalidation triggered for:', syncedEntities);
            } catch (error) {
              console.warn('âš ï¸ Failed to emit cache invalidation:', error);
            }
          }
          try {
            console.log('ðŸ§¾ Sync summary:', summary);
            yield _asyncStorage.default.setItem('last_sync_summary', JSON.stringify(Object.assign({}, summary, {
              at: new Date().toISOString()
            })));
            try {
              var _yield$import5 = yield import("./telemetry/performanceMetricsService"),
                performanceMetricsService = _yield$import5.default;
              var total = summary.successful + summary.failed + summary.conflicts;
              var conflictRate = total > 0 ? summary.conflicts / total : 0;
              yield performanceMetricsService.recordToday({
                sync: {
                  conflictRate: conflictRate
                }
              });
            } catch (_unused3) {}
          } catch (_unused4) {}
        } finally {
          this.isSyncing = false;
        }
      });
      function processSyncQueue() {
        return _processSyncQueue.apply(this, arguments);
      }
      return processSyncQueue;
    }()
  }, {
    key: "syncItem",
    value: function () {
      var _syncItem = (0, _asyncToGenerator2.default)(function* (item) {
        switch (item.entity) {
          case 'compulsion':
            yield this.syncCompulsion(item);
            break;
          case 'ai_profile':
            yield this.syncAIProfile(item);
            break;
          case 'treatment_plan':
            yield this.syncTreatmentPlan(item);
            break;
          case 'achievement':
            yield this.syncAchievement(item);
            break;
          case 'mood_entry':
            yield this.syncMoodEntry(item);
            break;
          case 'voice_checkin':
            yield this.syncVoiceCheckin(item);
            break;
          case 'thought_record':
            yield this.syncThoughtRecord(item);
            break;
          default:
            throw new Error(`Unknown entity type: ${item.entity}`);
        }
      });
      function syncItem(_x2) {
        return _syncItem.apply(this, arguments);
      }
      return syncItem;
    }()
  }, {
    key: "syncCompulsion",
    value: function () {
      var _syncCompulsion = (0, _asyncToGenerator2.default)(function* (item) {
        var remote = null;
        try {
          var _item$data3;
          if (item.type !== 'CREATE' && (_item$data3 = item.data) != null && _item$data3.id) {
            var _yield$import6 = yield import("./supabase"),
              _svc = _yield$import6.default;
            var list = yield _svc.getCompulsions(item.data.user_id);
            remote = Array.isArray(list) ? list.find(function (x) {
              return x.id === item.data.id;
            }) : null;
          }
        } catch (_unused5) {}
        var conflictResult = yield _unifiedConflictResolver.unifiedConflictResolver.resolveConflict('compulsion', item.data, remote, item.data.user_id);
        var resolved = conflictResult.resultData;
        var _yield$import7 = yield import("./supabase"),
          svc = _yield$import7.default;
        switch (item.type) {
          case 'CREATE':
            yield svc.saveCompulsion(resolved);
            break;
          case 'UPDATE':
            yield svc.saveCompulsion(resolved);
            break;
          case 'DELETE':
            yield svc.deleteCompulsion(item.data.id);
            break;
        }
      });
      function syncCompulsion(_x3) {
        return _syncCompulsion.apply(this, arguments);
      }
      return syncCompulsion;
    }()
  }, {
    key: "syncAIProfile",
    value: function () {
      var _syncAIProfile = (0, _asyncToGenerator2.default)(function* (item) {
        var _yield$import8 = yield import("./supabase"),
          svc = _yield$import8.default;
        var d = item.data || {};
        yield svc.upsertAIProfile(d.user_id, d.profile_data, !!d.onboarding_completed);
      });
      function syncAIProfile(_x4) {
        return _syncAIProfile.apply(this, arguments);
      }
      return syncAIProfile;
    }()
  }, {
    key: "syncTreatmentPlan",
    value: function () {
      var _syncTreatmentPlan = (0, _asyncToGenerator2.default)(function* (item) {
        var _yield$import9 = yield import("./supabase"),
          svc = _yield$import9.default;
        var d = item.data || {};
        yield svc.upsertAITreatmentPlan(d.user_id, d.plan_data, d.status || 'active');
      });
      function syncTreatmentPlan(_x5) {
        return _syncTreatmentPlan.apply(this, arguments);
      }
      return syncTreatmentPlan;
    }()
  }, {
    key: "syncAchievement",
    value: function () {
      var _syncAchievement = (0, _asyncToGenerator2.default)(function* (item) {
        try {
          var _yield$import0 = yield import("./supabase"),
            svc = _yield$import0.default;
          var d = item.data || {};
          switch (item.type) {
            case 'CREATE':
              {
                var _d$progress;
                var _yield$supabaseClient = yield svc.supabaseClient.from('user_achievements').upsert({
                    user_id: d.user_id,
                    achievement_id: d.achievement_id,
                    unlocked_at: d.unlocked_at || new Date().toISOString(),
                    progress: (_d$progress = d.progress) != null ? _d$progress : 100,
                    metadata: d.metadata || {},
                    updated_at: new Date().toISOString()
                  }, {
                    onConflict: 'user_id,achievement_id'
                  }),
                  error = _yield$supabaseClient.error;
                if (error) throw error;
                break;
              }
            case 'UPDATE':
              {
                var _yield$supabaseClient2 = yield svc.supabaseClient.from('user_achievements').update({
                    progress: d.progress,
                    metadata: d.metadata,
                    updated_at: new Date().toISOString()
                  }).eq('user_id', d.user_id).eq('achievement_id', d.achievement_id),
                  _error = _yield$supabaseClient2.error;
                if (_error) throw _error;
                break;
              }
          }
        } catch (e) {
          console.warn('Achievement sync failed:', e);
          throw e;
        }
      });
      function syncAchievement(_x6) {
        return _syncAchievement.apply(this, arguments);
      }
      return syncAchievement;
    }()
  }, {
    key: "syncMoodEntry",
    value: function () {
      var _syncMoodEntry = (0, _asyncToGenerator2.default)(function* (item) {
        var _ref, _raw$mood_score, _ref2, _raw$energy_level, _ref3, _raw$anxiety_level;
        var raw = item.data || {};
        var _yield$import1 = yield import("./supabase"),
          svc = _yield$import1.default;
        if (item.type === 'DELETE') {
          if (raw.id) {
            try {
              yield svc.deleteMoodEntry(raw.id);
              console.log('âœ… Mood entry deleted successfully:', raw.id);
            } catch (error) {
              console.warn('âš ï¸ Mood entry deletion failed:', error);
              throw error;
            }
          } else {
            console.log('âš ï¸ DELETE skipped: missing mood entry id');
          }
          return;
        }
        var userId = raw.user_id || raw.userId;
        try {
          var uid = (svc == null || svc.getCurrentUser == null ? void 0 : svc.getCurrentUser()) || (svc == null ? void 0 : svc.currentUser) || null;
          if (!userId && uid && typeof uid === 'object' && uid.id) userId = uid.id;
        } catch (_unused6) {}
        var entry = {
          user_id: userId,
          mood_score: (_ref = (_raw$mood_score = raw.mood_score) != null ? _raw$mood_score : raw.mood) != null ? _ref : 50,
          energy_level: (_ref2 = (_raw$energy_level = raw.energy_level) != null ? _raw$energy_level : raw.energy) != null ? _ref2 : 5,
          anxiety_level: (_ref3 = (_raw$anxiety_level = raw.anxiety_level) != null ? _raw$anxiety_level : raw.anxiety) != null ? _ref3 : 5,
          notes: raw.notes || '',
          trigger: raw.trigger || ''
        };
        yield svc.saveMoodEntry(entry);
      });
      function syncMoodEntry(_x7) {
        return _syncMoodEntry.apply(this, arguments);
      }
      return syncMoodEntry;
    }()
  }, {
    key: "syncVoiceCheckin",
    value: function () {
      var _syncVoiceCheckin = (0, _asyncToGenerator2.default)(function* (item) {
        var _item$data4;
        var _yield$import10 = yield import("./supabase"),
          svc = _yield$import10.default;
        switch (item.type) {
          case 'CREATE':
          case 'UPDATE':
            yield svc.saveVoiceCheckin(item.data);
            break;
          case 'DELETE':
            if ((_item$data4 = item.data) != null && _item$data4.id) {
              try {
                yield svc.deleteVoiceCheckin(item.data.id);
                console.log('âœ… Voice checkin deleted successfully:', item.data.id);
              } catch (error) {
                console.warn('âš ï¸ Voice checkin deletion failed:', error);
                throw error;
              }
            } else {
              console.log('âš ï¸ DELETE skipped: missing voice checkin id');
            }
            break;
        }
      });
      function syncVoiceCheckin(_x8) {
        return _syncVoiceCheckin.apply(this, arguments);
      }
      return syncVoiceCheckin;
    }()
  }, {
    key: "syncThoughtRecord",
    value: function () {
      var _syncThoughtRecord = (0, _asyncToGenerator2.default)(function* (item) {
        var _item$data5;
        var _yield$import11 = yield import("./supabase"),
          svc = _yield$import11.default;
        switch (item.type) {
          case 'CREATE':
          case 'UPDATE':
            if (item.data.thought && item.data.distortions) {
              yield svc.saveCBTRecord(item.data);
            } else if (item.data.automatic_thought) {
              yield svc.saveThoughtRecord(item.data);
            } else {
              console.warn('Unknown thought record format:', item.data);
            }
            break;
          case 'DELETE':
            if ((_item$data5 = item.data) != null && _item$data5.id) {
              try {
                yield svc.deleteThoughtRecord(item.data.id);
                console.log('âœ… Thought record deleted successfully:', item.data.id);
              } catch (error) {
                console.warn('âš ï¸ Thought record deletion failed:', error);
                throw error;
              }
            } else {
              console.log('âš ï¸ DELETE skipped: missing thought record id');
            }
            break;
        }
      });
      function syncThoughtRecord(_x9) {
        return _syncThoughtRecord.apply(this, arguments);
      }
      return syncThoughtRecord;
    }()
  }, {
    key: "handleFailedSync",
    value: function () {
      var _handleFailedSync = (0, _asyncToGenerator2.default)(function* (item) {
        console.error('Failed to sync item after max retries:', item);
        try {
          yield _deadLetterQueue.default.addToDeadLetter({
            id: item.id,
            type: item.type,
            entity: item.entity,
            data: item.data,
            errorMessage: 'Max retries exceeded'
          });
        } catch (e) {
          var currentUserId = yield _asyncStorage.default.getItem('currentUserId');
          var failedKey = `failedSyncItems_${(0, _queryClient.safeStorageKey)(currentUserId)}`;
          var failedItems = yield _asyncStorage.default.getItem(failedKey);
          var failed = failedItems ? JSON.parse(failedItems) : [];
          failed.push(item);
          yield _asyncStorage.default.setItem(failedKey, JSON.stringify(failed));
        }
      });
      function handleFailedSync(_x0) {
        return _handleFailedSync.apply(this, arguments);
      }
      return handleFailedSync;
    }()
  }, {
    key: "storeCompulsionLocally",
    value: function () {
      var _storeCompulsionLocally = (0, _asyncToGenerator2.default)(function* (compulsion) {
        try {
          var currentUserId = yield _asyncStorage.default.getItem('currentUserId');
          var localKey = `localCompulsions_${(0, _queryClient.safeStorageKey)(currentUserId)}`;
          var stored = yield _asyncStorage.default.getItem(localKey);
          var compulsions = stored ? JSON.parse(stored) : [];
          compulsions.push(Object.assign({}, compulsion, {
            localId: `local_${Date.now()}`,
            synced: false,
            createdAt: new Date().toISOString()
          }));
          yield _asyncStorage.default.setItem(localKey, JSON.stringify(compulsions));
          yield this.addToSyncQueue({
            type: 'CREATE',
            entity: 'compulsion',
            data: compulsion
          });
        } catch (error) {
          console.error('Error storing compulsion locally:', error);
        }
      });
      function storeCompulsionLocally(_x1) {
        return _storeCompulsionLocally.apply(this, arguments);
      }
      return storeCompulsionLocally;
    }()
  }, {
    key: "getLocalCompulsions",
    value: function () {
      var _getLocalCompulsions = (0, _asyncToGenerator2.default)(function* () {
        try {
          var currentUserId = yield _asyncStorage.default.getItem('currentUserId');
          var localKey = `localCompulsions_${(0, _queryClient.safeStorageKey)(currentUserId)}`;
          var stored = yield _asyncStorage.default.getItem(localKey);
          return stored ? JSON.parse(stored) : [];
        } catch (error) {
          console.error('Error getting local compulsions:', error);
          return [];
        }
      });
      function getLocalCompulsions() {
        return _getLocalCompulsions.apply(this, arguments);
      }
      return getLocalCompulsions;
    }()
  }, {
    key: "isOnlineMode",
    value: function isOnlineMode() {
      return this.isOnline;
    }
  }, {
    key: "getSyncQueueLength",
    value: function getSyncQueueLength() {
      return this.syncQueue.length;
    }
  }, {
    key: "forceSyncNow",
    value: function () {
      var _forceSyncNow = (0, _asyncToGenerator2.default)(function* () {
        if (!this.isOnline) {
          return false;
        }
        yield this.processSyncQueue();
        return this.syncQueue.length === 0;
      });
      function forceSyncNow() {
        return _forceSyncNow.apply(this, arguments);
      }
      return forceSyncNow;
    }()
  }, {
    key: "clearSyncQueue",
    value: function () {
      var _clearSyncQueue = (0, _asyncToGenerator2.default)(function* () {
        this.syncQueue = [];
        yield this.saveSyncQueue();
      });
      function clearSyncQueue() {
        return _clearSyncQueue.apply(this, arguments);
      }
      return clearSyncQueue;
    }()
  }, {
    key: "syncWithConflictResolution",
    value: (function () {
      var _syncWithConflictResolution = (0, _asyncToGenerator2.default)(function* () {
        var _this3 = this;
        var batchSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;
        var result = {
          successful: 0,
          failed: 0,
          conflicts: 0
        };
        if (!this.isOnline || this.syncQueue.length === 0) return result;
        var items = (0, _toConsumableArray2.default)(this.syncQueue);
        var _loop2 = function* _loop2() {
          var batch = items.slice(i, i + batchSize);
          var settled = yield Promise.allSettled(batch.map(function (it) {
            return _this3.syncItem(it);
          }));
          settled.forEach(function (r, idx) {
            if (r.status === 'fulfilled') {
              result.successful++;
              _this3.syncQueue = _this3.syncQueue.filter(function (q) {
                return q.id !== batch[idx].id;
              });
            } else {
              result.failed++;
            }
          });
          yield _this3.saveSyncQueue();
        };
        for (var i = 0; i < items.length; i += batchSize) {
          yield* _loop2();
        }
        try {
          yield _asyncStorage.default.setItem('last_sync_summary', JSON.stringify(Object.assign({}, result, {
            at: new Date().toISOString()
          })));
        } catch (_unused7) {}
        return result;
      });
      function syncWithConflictResolution() {
        return _syncWithConflictResolution.apply(this, arguments);
      }
      return syncWithConflictResolution;
    }())
  }], [{
    key: "getInstance",
    value: function getInstance() {
      if (!OfflineSyncService.instance) {
        OfflineSyncService.instance = new OfflineSyncService();
      }
      return OfflineSyncService.instance;
    }
  }]);
}();
var offlineSyncService = exports.offlineSyncService = OfflineSyncService.getInstance();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXN5bmNTdG9yYWdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcXVlcnlDbGllbnQiLCJfbmV0aW5mbyIsIl91bmlmaWVkQ29uZmxpY3RSZXNvbHZlciIsIl9kZWFkTGV0dGVyUXVldWUiLCJfY2lyY3VpdEJyZWFrZXIiLCJfYmF0Y2hPcHRpbWl6ZXIiLCJPZmZsaW5lU3luY1NlcnZpY2UiLCJleHBvcnRzIiwiX2NsYXNzQ2FsbENoZWNrMiIsImRlZmF1bHQiLCJpc09ubGluZSIsInN5bmNRdWV1ZSIsImlzU3luY2luZyIsImluaXRpYWxpemVOZXR3b3JrTGlzdGVuZXIiLCJsb2FkU3luY1F1ZXVlIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwiX3RoaXMiLCJOZXRJbmZvIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0YXRlIiwiX3N0YXRlJGlzQ29ubmVjdGVkIiwid2FzT2ZmbGluZSIsImlzQ29ubmVjdGVkIiwicHJvY2Vzc1N5bmNRdWV1ZSIsIl9sb2FkU3luY1F1ZXVlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiY3VycmVudFVzZXJJZCIsIkFzeW5jU3RvcmFnZSIsImdldEl0ZW0iLCJfeWllbGQkaW1wb3J0Iiwic3VwYWJhc2UiLCJ1aWQiLCJnZXRDdXJyZW50VXNlciIsImN1cnJlbnRVc2VyIiwiaWQiLCJfdW51c2VkIiwicXVldWVLZXkiLCJzYWZlU3RvcmFnZUtleSIsInF1ZXVlRGF0YSIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3NhdmVTeW5jUXVldWUiLCJfeWllbGQkaW1wb3J0MiIsIl91bnVzZWQyIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInNhdmVTeW5jUXVldWUiLCJfYWRkVG9TeW5jUXVldWUiLCJpdGVtIiwiU1VQUE9SVEVEX0VOVElUSUVTIiwiU2V0IiwiaGFzIiwiZW50aXR5Iiwid2FybiIsIl95aWVsZCRpbXBvcnQzIiwidHJhY2tBSUludGVyYWN0aW9uIiwiQUlFdmVudFR5cGUiLCJTWVNURU1fU1RBVFVTIiwiZXZlbnQiLCJ0eXBlIiwibG9nIiwic3luY0l0ZW0iLCJPYmplY3QiLCJhc3NpZ24iLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwidGltZXN0YW1wIiwicmV0cnlDb3VudCIsImRldmljZUlkIiwibGFzdE1vZGlmaWVkIiwicHVzaCIsImFkZFRvU3luY1F1ZXVlIiwiX3giLCJfcHJvY2Vzc1N5bmNRdWV1ZSIsIl90aGlzMiIsImxlbmd0aCIsInN1bW1hcnkiLCJzdWNjZXNzZnVsIiwiZmFpbGVkIiwiY29uZmxpY3RzIiwiaXRlbXNUb1N5bmMiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiYmF0Y2hTaXplIiwiYmF0Y2hPcHRpbWl6ZXIiLCJjYWxjdWxhdGUiLCJzdGFydEJhdGNoQXQiLCJfbG9vcCIsImkiLCJzeW5jQ2lyY3VpdEJyZWFrZXIiLCJleGVjdXRlIiwiZmlsdGVyIiwicXVldWVJdGVtIiwiZmluZCIsInEiLCJiYXNlIiwiZGVsYXkiLCJtaW4iLCJwb3ciLCJmbG9vciIsIlByb21pc2UiLCJyZXMiLCJzZXRUaW1lb3V0IiwiaGFuZGxlRmFpbGVkU3luYyIsInJlY29yZCIsIl9maXJzdEl0ZW0kZGF0YSIsIl9maXJzdEl0ZW0kZGF0YTIiLCJfeWllbGQkaW1wb3J0NCIsImVtaXRTeW5jQ29tcGxldGVkIiwic3luY2VkRW50aXRpZXMiLCJBcnJheSIsImZyb20iLCJzbGljZSIsIm1hcCIsImZpcnN0SXRlbSIsIl9pdGVtJGRhdGEiLCJfaXRlbSRkYXRhMiIsImRhdGEiLCJ1c2VyX2lkIiwidXNlcklkIiwiYXQiLCJ0b0lTT1N0cmluZyIsIl95aWVsZCRpbXBvcnQ1IiwicGVyZm9ybWFuY2VNZXRyaWNzU2VydmljZSIsInRvdGFsIiwiY29uZmxpY3RSYXRlIiwicmVjb3JkVG9kYXkiLCJzeW5jIiwiX3VudXNlZDMiLCJfdW51c2VkNCIsIl9zeW5jSXRlbSIsInN5bmNDb21wdWxzaW9uIiwic3luY0FJUHJvZmlsZSIsInN5bmNUcmVhdG1lbnRQbGFuIiwic3luY0FjaGlldmVtZW50Iiwic3luY01vb2RFbnRyeSIsInN5bmNWb2ljZUNoZWNraW4iLCJzeW5jVGhvdWdodFJlY29yZCIsIkVycm9yIiwiX3gyIiwiX3N5bmNDb21wdWxzaW9uIiwicmVtb3RlIiwiX2l0ZW0kZGF0YTMiLCJfeWllbGQkaW1wb3J0NiIsInN2YyIsImxpc3QiLCJnZXRDb21wdWxzaW9ucyIsImlzQXJyYXkiLCJ4IiwiX3VudXNlZDUiLCJjb25mbGljdFJlc3VsdCIsInVuaWZpZWRDb25mbGljdFJlc29sdmVyIiwicmVzb2x2ZUNvbmZsaWN0IiwicmVzb2x2ZWQiLCJyZXN1bHREYXRhIiwiX3lpZWxkJGltcG9ydDciLCJzYXZlQ29tcHVsc2lvbiIsImRlbGV0ZUNvbXB1bHNpb24iLCJfeDMiLCJfc3luY0FJUHJvZmlsZSIsIl95aWVsZCRpbXBvcnQ4IiwiZCIsInVwc2VydEFJUHJvZmlsZSIsInByb2ZpbGVfZGF0YSIsIm9uYm9hcmRpbmdfY29tcGxldGVkIiwiX3g0IiwiX3N5bmNUcmVhdG1lbnRQbGFuIiwiX3lpZWxkJGltcG9ydDkiLCJ1cHNlcnRBSVRyZWF0bWVudFBsYW4iLCJwbGFuX2RhdGEiLCJzdGF0dXMiLCJfeDUiLCJfc3luY0FjaGlldmVtZW50IiwiX3lpZWxkJGltcG9ydDAiLCJfZCRwcm9ncmVzcyIsIl95aWVsZCRzdXBhYmFzZUNsaWVudCIsInN1cGFiYXNlQ2xpZW50IiwidXBzZXJ0IiwiYWNoaWV2ZW1lbnRfaWQiLCJ1bmxvY2tlZF9hdCIsInByb2dyZXNzIiwibWV0YWRhdGEiLCJ1cGRhdGVkX2F0Iiwib25Db25mbGljdCIsIl95aWVsZCRzdXBhYmFzZUNsaWVudDIiLCJ1cGRhdGUiLCJlcSIsImUiLCJfeDYiLCJfc3luY01vb2RFbnRyeSIsIl9yZWYiLCJfcmF3JG1vb2Rfc2NvcmUiLCJfcmVmMiIsIl9yYXckZW5lcmd5X2xldmVsIiwiX3JlZjMiLCJfcmF3JGFueGlldHlfbGV2ZWwiLCJyYXciLCJfeWllbGQkaW1wb3J0MSIsImRlbGV0ZU1vb2RFbnRyeSIsIl91bnVzZWQ2IiwiZW50cnkiLCJtb29kX3Njb3JlIiwibW9vZCIsImVuZXJneV9sZXZlbCIsImVuZXJneSIsImFueGlldHlfbGV2ZWwiLCJhbnhpZXR5Iiwibm90ZXMiLCJ0cmlnZ2VyIiwic2F2ZU1vb2RFbnRyeSIsIl94NyIsIl9zeW5jVm9pY2VDaGVja2luIiwiX2l0ZW0kZGF0YTQiLCJfeWllbGQkaW1wb3J0MTAiLCJzYXZlVm9pY2VDaGVja2luIiwiZGVsZXRlVm9pY2VDaGVja2luIiwiX3g4IiwiX3N5bmNUaG91Z2h0UmVjb3JkIiwiX2l0ZW0kZGF0YTUiLCJfeWllbGQkaW1wb3J0MTEiLCJ0aG91Z2h0IiwiZGlzdG9ydGlvbnMiLCJzYXZlQ0JUUmVjb3JkIiwiYXV0b21hdGljX3Rob3VnaHQiLCJzYXZlVGhvdWdodFJlY29yZCIsImRlbGV0ZVRob3VnaHRSZWNvcmQiLCJfeDkiLCJfaGFuZGxlRmFpbGVkU3luYyIsImRlYWRMZXR0ZXJRdWV1ZSIsImFkZFRvRGVhZExldHRlciIsImVycm9yTWVzc2FnZSIsImZhaWxlZEtleSIsImZhaWxlZEl0ZW1zIiwiX3gwIiwiX3N0b3JlQ29tcHVsc2lvbkxvY2FsbHkiLCJjb21wdWxzaW9uIiwibG9jYWxLZXkiLCJzdG9yZWQiLCJjb21wdWxzaW9ucyIsImxvY2FsSWQiLCJzeW5jZWQiLCJjcmVhdGVkQXQiLCJzdG9yZUNvbXB1bHNpb25Mb2NhbGx5IiwiX3gxIiwiX2dldExvY2FsQ29tcHVsc2lvbnMiLCJnZXRMb2NhbENvbXB1bHNpb25zIiwiaXNPbmxpbmVNb2RlIiwiZ2V0U3luY1F1ZXVlTGVuZ3RoIiwiX2ZvcmNlU3luY05vdyIsImZvcmNlU3luY05vdyIsIl9jbGVhclN5bmNRdWV1ZSIsImNsZWFyU3luY1F1ZXVlIiwiX3N5bmNXaXRoQ29uZmxpY3RSZXNvbHV0aW9uIiwiX3RoaXMzIiwidW5kZWZpbmVkIiwicmVzdWx0IiwiaXRlbXMiLCJfbG9vcDIiLCJiYXRjaCIsInNldHRsZWQiLCJhbGxTZXR0bGVkIiwiaXQiLCJmb3JFYWNoIiwiciIsImlkeCIsIl91bnVzZWQ3Iiwic3luY1dpdGhDb25mbGljdFJlc29sdXRpb24iLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlIiwib2ZmbGluZVN5bmNTZXJ2aWNlIl0sInNvdXJjZXMiOlsib2ZmbGluZVN5bmMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gJ0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlJztcbmltcG9ydCB7IHNhZmVTdG9yYWdlS2V5IH0gZnJvbSAnQC9saWIvcXVlcnlDbGllbnQnO1xuaW1wb3J0IE5ldEluZm8gZnJvbSAnQHJlYWN0LW5hdGl2ZS1jb21tdW5pdHkvbmV0aW5mbyc7XG5pbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAnLi9hcGknO1xuaW1wb3J0IHN1cGFiYXNlU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL3N1cGFiYXNlJztcbmltcG9ydCB7IHVuaWZpZWRDb25mbGljdFJlc29sdmVyLCBVbmlmaWVkRGF0YUNvbmZsaWN0LCBFbnRpdHlUeXBlIH0gZnJvbSAnLi91bmlmaWVkQ29uZmxpY3RSZXNvbHZlcic7XG5pbXBvcnQgZGVhZExldHRlclF1ZXVlIGZyb20gJ0Avc2VydmljZXMvc3luYy9kZWFkTGV0dGVyUXVldWUnO1xuaW1wb3J0IHsgc3luY0NpcmN1aXRCcmVha2VyIH0gZnJvbSAnQC91dGlscy9jaXJjdWl0QnJlYWtlcic7XG5pbXBvcnQgYmF0Y2hPcHRpbWl6ZXIgZnJvbSAnQC9zZXJ2aWNlcy9zeW5jL2JhdGNoT3B0aW1pemVyJztcblxuZXhwb3J0IGludGVyZmFjZSBTeW5jUXVldWVJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogJ0NSRUFURScgfCAnVVBEQVRFJyB8ICdERUxFVEUnO1xuICBlbnRpdHk6ICdjb21wdWxzaW9uJyB8ICdhY2hpZXZlbWVudCcgfCAnbW9vZF9lbnRyeScgfCAnYWlfcHJvZmlsZScgfCAndHJlYXRtZW50X3BsYW4nIHwgJ3ZvaWNlX2NoZWNraW4nIHwgJ3Rob3VnaHRfcmVjb3JkJzsgLy8g4pyFIFJFTU9WRUQ6ICdlcnBfc2Vzc2lvbidcbiAgZGF0YTogYW55O1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgcmV0cnlDb3VudDogbnVtYmVyO1xuICBkZXZpY2VJZD86IHN0cmluZztcbiAgbGFzdE1vZGlmaWVkPzogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgT2ZmbGluZVN5bmNTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IE9mZmxpbmVTeW5jU2VydmljZTtcbiAgcHJpdmF0ZSBpc09ubGluZTogYm9vbGVhbiA9IHRydWU7XG4gIHByaXZhdGUgc3luY1F1ZXVlOiBTeW5jUXVldWVJdGVtW10gPSBbXTtcbiAgcHJpdmF0ZSBpc1N5bmNpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IE9mZmxpbmVTeW5jU2VydmljZSB7XG4gICAgaWYgKCFPZmZsaW5lU3luY1NlcnZpY2UuaW5zdGFuY2UpIHtcbiAgICAgIE9mZmxpbmVTeW5jU2VydmljZS5pbnN0YW5jZSA9IG5ldyBPZmZsaW5lU3luY1NlcnZpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIE9mZmxpbmVTeW5jU2VydmljZS5pbnN0YW5jZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW5pdGlhbGl6ZU5ldHdvcmtMaXN0ZW5lcigpO1xuICAgIHRoaXMubG9hZFN5bmNRdWV1ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplTmV0d29ya0xpc3RlbmVyKCk6IHZvaWQge1xuICAgIE5ldEluZm8uYWRkRXZlbnRMaXN0ZW5lcihzdGF0ZSA9PiB7XG4gICAgICBjb25zdCB3YXNPZmZsaW5lID0gIXRoaXMuaXNPbmxpbmU7XG4gICAgICB0aGlzLmlzT25saW5lID0gc3RhdGUuaXNDb25uZWN0ZWQgPz8gZmFsc2U7XG5cbiAgICAgIGlmICh3YXNPZmZsaW5lICYmIHRoaXMuaXNPbmxpbmUpIHtcbiAgICAgICAgLy8gQ2FtZSBiYWNrIG9ubGluZSwgc3RhcnQgc3luY2luZ1xuICAgICAgICB0aGlzLnByb2Nlc3NTeW5jUXVldWUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZFN5bmNRdWV1ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGN1cnJlbnRVc2VySWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXJJZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkZWZhdWx0OiBzdXBhYmFzZSB9ID0gYXdhaXQgaW1wb3J0KCdAL3NlcnZpY2VzL3N1cGFiYXNlJyk7XG4gICAgICAgIGNvbnN0IHVpZCA9IChzdXBhYmFzZSBhcyBhbnkpPy5nZXRDdXJyZW50VXNlcj8uKCkgfHwgKHN1cGFiYXNlIGFzIGFueSk/LmN1cnJlbnRVc2VyIHx8IG51bGw7XG4gICAgICAgIGlmICh1aWQgJiYgdHlwZW9mIHVpZCA9PT0gJ29iamVjdCcgJiYgdWlkLmlkKSBjdXJyZW50VXNlcklkID0gdWlkLmlkO1xuICAgICAgfSBjYXRjaCB7fVxuICAgICAgY29uc3QgcXVldWVLZXkgPSBgc3luY1F1ZXVlXyR7c2FmZVN0b3JhZ2VLZXkoY3VycmVudFVzZXJJZCBhcyBhbnkpfWA7XG4gICAgICBjb25zdCBxdWV1ZURhdGEgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShxdWV1ZUtleSk7XG4gICAgICBpZiAocXVldWVEYXRhKSB7XG4gICAgICAgIHRoaXMuc3luY1F1ZXVlID0gSlNPTi5wYXJzZShxdWV1ZURhdGEpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHN5bmMgcXVldWU6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2F2ZVN5bmNRdWV1ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGN1cnJlbnRVc2VySWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXJJZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkZWZhdWx0OiBzdXBhYmFzZSB9ID0gYXdhaXQgaW1wb3J0KCdAL3NlcnZpY2VzL3N1cGFiYXNlJyk7XG4gICAgICAgIGNvbnN0IHVpZCA9IChzdXBhYmFzZSBhcyBhbnkpPy5nZXRDdXJyZW50VXNlcj8uKCkgfHwgKHN1cGFiYXNlIGFzIGFueSk/LmN1cnJlbnRVc2VyIHx8IG51bGw7XG4gICAgICAgIGlmICh1aWQgJiYgdHlwZW9mIHVpZCA9PT0gJ29iamVjdCcgJiYgdWlkLmlkKSBjdXJyZW50VXNlcklkID0gdWlkLmlkO1xuICAgICAgfSBjYXRjaCB7fVxuICAgICAgY29uc3QgcXVldWVLZXkgPSBgc3luY1F1ZXVlXyR7c2FmZVN0b3JhZ2VLZXkoY3VycmVudFVzZXJJZCBhcyBhbnkpfWA7XG4gICAgICBhd2FpdCBBc3luY1N0b3JhZ2Uuc2V0SXRlbShxdWV1ZUtleSwgSlNPTi5zdHJpbmdpZnkodGhpcy5zeW5jUXVldWUpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHN5bmMgcXVldWU6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGFkZFRvU3luY1F1ZXVlKGl0ZW06IE9taXQ8U3luY1F1ZXVlSXRlbSwgJ2lkJyB8ICd0aW1lc3RhbXAnIHwgJ3JldHJ5Q291bnQnPik6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIOKchSBGLTAxIEZJWDogR3VhcmQgYWdhaW5zdCB1bnN1cHBvcnRlZCBlbnRpdGllcyAoRVJQIHJlbW5hbnRzKVxuICAgIGNvbnN0IFNVUFBPUlRFRF9FTlRJVElFUyA9IG5ldyBTZXQoW1xuICAgICAgJ2NvbXB1bHNpb24nLCAnYWNoaWV2ZW1lbnQnLCAnbW9vZF9lbnRyeScsICdhaV9wcm9maWxlJywgJ3RyZWF0bWVudF9wbGFuJywgJ3ZvaWNlX2NoZWNraW4nLCAndGhvdWdodF9yZWNvcmQnXG4gICAgXSk7XG4gICAgXG4gICAgaWYgKCFTVVBQT1JURURfRU5USVRJRVMuaGFzKGl0ZW0uZW50aXR5IGFzIGFueSkpIHtcbiAgICAgIGNvbnNvbGUud2Fybign8J+aqyBEcm9wcGluZyB1bnN1cHBvcnRlZCBlbnRpdHkgZnJvbSBzeW5jIHF1ZXVlOicsIGl0ZW0uZW50aXR5KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgdHJhY2tBSUludGVyYWN0aW9uLCBBSUV2ZW50VHlwZSB9ID0gYXdhaXQgaW1wb3J0KCdAL2ZlYXR1cmVzL2FpL3RlbGVtZXRyeS9haVRlbGVtZXRyeScpO1xuICAgICAgICBhd2FpdCB0cmFja0FJSW50ZXJhY3Rpb24oQUlFdmVudFR5cGUuU1lTVEVNX1NUQVRVUywge1xuICAgICAgICAgIGV2ZW50OiAndW5zdXBwb3J0ZWRfZW50aXR5X2Ryb3BwZWQnLFxuICAgICAgICAgIGVudGl0eTogaXRlbS5lbnRpdHksXG4gICAgICAgICAgdHlwZTogaXRlbS50eXBlXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byB0cmFjayB1bnN1cHBvcnRlZCBlbnRpdHkgZHJvcDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgICByZXR1cm47IC8vIERyb3AgdGhlIGl0ZW0gc2lsZW50bHlcbiAgICB9XG5cbiAgICBjb25zdCBzeW5jSXRlbTogU3luY1F1ZXVlSXRlbSA9IHtcbiAgICAgIC4uLml0ZW0sXG4gICAgICBpZDogYCR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICBkZXZpY2VJZDogYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oJ2RldmljZV9pZCcpIHx8ICd1bmtub3duX2RldmljZScsXG4gICAgICBsYXN0TW9kaWZpZWQ6IERhdGUubm93KClcbiAgICB9O1xuXG4gICAgdGhpcy5zeW5jUXVldWUucHVzaChzeW5jSXRlbSk7XG4gICAgYXdhaXQgdGhpcy5zYXZlU3luY1F1ZXVlKCk7XG5cbiAgICAvLyBJZiBvbmxpbmUsIHRyeSB0byBzeW5jIGltbWVkaWF0ZWx5XG4gICAgaWYgKHRoaXMuaXNPbmxpbmUpIHtcbiAgICAgIHRoaXMucHJvY2Vzc1N5bmNRdWV1ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHByb2Nlc3NTeW5jUXVldWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaXNTeW5jaW5nIHx8ICF0aGlzLmlzT25saW5lIHx8IHRoaXMuc3luY1F1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNTeW5jaW5nID0gdHJ1ZTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0geyBzdWNjZXNzZnVsOiAwLCBmYWlsZWQ6IDAsIGNvbmZsaWN0czogMCB9O1xuICAgICAgY29uc3QgaXRlbXNUb1N5bmMgPSBbLi4udGhpcy5zeW5jUXVldWVdO1xuICAgICAgY29uc3QgYmF0Y2hTaXplID0gYmF0Y2hPcHRpbWl6ZXIuY2FsY3VsYXRlKGl0ZW1zVG9TeW5jLmxlbmd0aCk7XG4gICAgICBjb25zdCBzdGFydEJhdGNoQXQgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zVG9TeW5jLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1RvU3luY1tpXTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgc3luY0NpcmN1aXRCcmVha2VyLmV4ZWN1dGUoKCkgPT4gdGhpcy5zeW5jSXRlbShpdGVtKSk7XG4gICAgICAgICAgc3VtbWFyeS5zdWNjZXNzZnVsKys7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVtb3ZlIGZyb20gcXVldWUgaWYgc3VjY2Vzc2Z1bFxuICAgICAgICAgIHRoaXMuc3luY1F1ZXVlID0gdGhpcy5zeW5jUXVldWUuZmlsdGVyKHF1ZXVlSXRlbSA9PiBxdWV1ZUl0ZW0uaWQgIT09IGl0ZW0uaWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgaXRlbTonLCBlcnJvcik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSW5jcmVtZW50IHJldHJ5IGNvdW50XG4gICAgICAgICAgY29uc3QgcXVldWVJdGVtID0gdGhpcy5zeW5jUXVldWUuZmluZChxID0+IHEuaWQgPT09IGl0ZW0uaWQpO1xuICAgICAgICAgIGlmIChxdWV1ZUl0ZW0pIHtcbiAgICAgICAgICAgIHF1ZXVlSXRlbS5yZXRyeUNvdW50Kys7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEV4cG9uZW50aWFsIGJhY2tvZmYgd2l0aCBqaXR0ZXJcbiAgICAgICAgICAgIGNvbnN0IGJhc2UgPSAyMDAwOyAvLyAyc1xuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLm1pbihiYXNlICogTWF0aC5wb3coMiwgcXVldWVJdGVtLnJldHJ5Q291bnQpLCA2MDAwMCkgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MDApO1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCBkZWxheSkpO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRvIGRlYWQtbGV0dGVyIGlmIG1heCByZXRyaWVzIHJlYWNoZWRcbiAgICAgICAgICAgIGlmIChxdWV1ZUl0ZW0ucmV0cnlDb3VudCA+PSA4KSB7XG4gICAgICAgICAgICAgIHRoaXMuc3luY1F1ZXVlID0gdGhpcy5zeW5jUXVldWUuZmlsdGVyKHEgPT4gcS5pZCAhPT0gaXRlbS5pZCk7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRmFpbGVkU3luYyhxdWV1ZUl0ZW0pO1xuICAgICAgICAgICAgICBzdW1tYXJ5LmZhaWxlZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhd2FpdCB0aGlzLnNhdmVTeW5jUXVldWUoKTtcbiAgICAgIGJhdGNoT3B0aW1pemVyLnJlY29yZChiYXRjaFNpemUsIHN1bW1hcnkuZmFpbGVkID09PSAwLCBEYXRlLm5vdygpIC0gc3RhcnRCYXRjaEF0KTtcbiAgICAgIFxuICAgICAgLy8g4pyFIEYtMDggRklYOiBFbWl0IGNhY2hlIGludmFsaWRhdGlvbiBldmVudHMgZm9yIHN1Y2Nlc3NmdWwgc3luY3NcbiAgICAgIGlmIChzdW1tYXJ5LnN1Y2Nlc3NmdWwgPiAwKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyBlbWl0U3luY0NvbXBsZXRlZCB9ID0gYXdhaXQgaW1wb3J0KCdAL2hvb2tzL3VzZUNhY2hlSW52YWxpZGF0aW9uJyk7XG4gICAgICAgICAgY29uc3Qgc3luY2VkRW50aXRpZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoXG4gICAgICAgICAgICBpdGVtc1RvU3luYy5zbGljZSgwLCBzdW1tYXJ5LnN1Y2Nlc3NmdWwpLm1hcChpdGVtID0+IGl0ZW0uZW50aXR5KVxuICAgICAgICAgICkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEdldCB1c2VySWQgZnJvbSBmaXJzdCBzdWNjZXNzZnVsIGl0ZW1cbiAgICAgICAgICBjb25zdCBmaXJzdEl0ZW0gPSBpdGVtc1RvU3luYy5maW5kKGl0ZW0gPT4gaXRlbS5kYXRhPy51c2VyX2lkIHx8IGl0ZW0uZGF0YT8udXNlcklkKTtcbiAgICAgICAgICBjb25zdCB1c2VySWQgPSBmaXJzdEl0ZW0/LmRhdGE/LnVzZXJfaWQgfHwgZmlyc3RJdGVtPy5kYXRhPy51c2VySWQ7XG4gICAgICAgICAgXG4gICAgICAgICAgZW1pdFN5bmNDb21wbGV0ZWQoc3luY2VkRW50aXRpZXMsIHVzZXJJZCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQ2FjaGUgaW52YWxpZGF0aW9uIHRyaWdnZXJlZCBmb3I6Jywgc3luY2VkRW50aXRpZXMpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEZhaWxlZCB0byBlbWl0IGNhY2hlIGludmFsaWRhdGlvbjonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfp74gU3luYyBzdW1tYXJ5OicsIHN1bW1hcnkpO1xuICAgICAgICBhd2FpdCBBc3luY1N0b3JhZ2Uuc2V0SXRlbSgnbGFzdF9zeW5jX3N1bW1hcnknLCBKU09OLnN0cmluZ2lmeSh7IC4uLnN1bW1hcnksIGF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSkpO1xuICAgICAgICAvLyBQZXJzaXN0IGRhaWx5IGNvbmZsaWN0UmF0ZSBmb3IgdHJhY2tpbmcgY2hhcnRzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyBkZWZhdWx0OiBwZXJmb3JtYW5jZU1ldHJpY3NTZXJ2aWNlIH0gPSBhd2FpdCBpbXBvcnQoJ0Avc2VydmljZXMvdGVsZW1ldHJ5L3BlcmZvcm1hbmNlTWV0cmljc1NlcnZpY2UnKTtcbiAgICAgICAgICBjb25zdCB0b3RhbCA9IHN1bW1hcnkuc3VjY2Vzc2Z1bCArIHN1bW1hcnkuZmFpbGVkICsgc3VtbWFyeS5jb25mbGljdHM7XG4gICAgICAgICAgY29uc3QgY29uZmxpY3RSYXRlID0gdG90YWwgPiAwID8gc3VtbWFyeS5jb25mbGljdHMgLyB0b3RhbCA6IDA7XG4gICAgICAgICAgYXdhaXQgcGVyZm9ybWFuY2VNZXRyaWNzU2VydmljZS5yZWNvcmRUb2RheSh7IHN5bmM6IHsgY29uZmxpY3RSYXRlIH0gfSk7XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH0gY2F0Y2gge31cbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5pc1N5bmNpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHN5bmNJdGVtKGl0ZW06IFN5bmNRdWV1ZUl0ZW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBzd2l0Y2ggKGl0ZW0uZW50aXR5KSB7XG4gICAgICBjYXNlICdjb21wdWxzaW9uJzpcbiAgICAgICAgYXdhaXQgdGhpcy5zeW5jQ29tcHVsc2lvbihpdGVtKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyDinIUgUkVNT1ZFRDogZXJwX3Nlc3Npb24gY2FzZSAtIEVSUCBtb2R1bGUgZGVsZXRlZFxuICAgICAgY2FzZSAnYWlfcHJvZmlsZSc6XG4gICAgICAgIGF3YWl0IHRoaXMuc3luY0FJUHJvZmlsZShpdGVtKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0cmVhdG1lbnRfcGxhbic6XG4gICAgICAgIGF3YWl0IHRoaXMuc3luY1RyZWF0bWVudFBsYW4oaXRlbSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYWNoaWV2ZW1lbnQnOlxuICAgICAgICBhd2FpdCB0aGlzLnN5bmNBY2hpZXZlbWVudChpdGVtKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb29kX2VudHJ5JzpcbiAgICAgICAgYXdhaXQgdGhpcy5zeW5jTW9vZEVudHJ5KGl0ZW0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZvaWNlX2NoZWNraW4nOlxuICAgICAgICBhd2FpdCB0aGlzLnN5bmNWb2ljZUNoZWNraW4oaXRlbSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGhvdWdodF9yZWNvcmQnOlxuICAgICAgICBhd2FpdCB0aGlzLnN5bmNUaG91Z2h0UmVjb3JkKGl0ZW0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBlbnRpdHkgdHlwZTogJHtpdGVtLmVudGl0eX1gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHN5bmNDb21wdWxzaW9uKGl0ZW06IFN5bmNRdWV1ZUl0ZW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBGZXRjaCBzZXJ2ZXIgc3RhdGUgaWYgYXBwbGljYWJsZSAoYmVzdC1lZmZvcnQpIHZpYSBTdXBhYmFzZVxuICAgIGxldCByZW1vdGU6IGFueSA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpdGVtLnR5cGUgIT09ICdDUkVBVEUnICYmIGl0ZW0uZGF0YT8uaWQpIHtcbiAgICAgICAgY29uc3QgeyBkZWZhdWx0OiBzdmMgfSA9IGF3YWl0IGltcG9ydCgnQC9zZXJ2aWNlcy9zdXBhYmFzZScpO1xuICAgICAgICBjb25zdCBsaXN0ID0gYXdhaXQgKHN2YyBhcyBhbnkpLmdldENvbXB1bHNpb25zKGl0ZW0uZGF0YS51c2VyX2lkKTtcbiAgICAgICAgcmVtb3RlID0gQXJyYXkuaXNBcnJheShsaXN0KSA/IGxpc3QuZmluZCgoeDogYW55KSA9PiB4LmlkID09PSBpdGVtLmRhdGEuaWQpIDogbnVsbDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG5cbiAgICAgICAgICAvLyBSZXNvbHZlIGNvbmZsaWN0cyB1c2luZyB1bmlmaWVkIHJlc29sdmVyXG4gICAgICBjb25zdCBjb25mbGljdFJlc3VsdCA9IGF3YWl0IHVuaWZpZWRDb25mbGljdFJlc29sdmVyLnJlc29sdmVDb25mbGljdChcbiAgICAgICAgJ2NvbXB1bHNpb24nLCBcbiAgICAgICAgaXRlbS5kYXRhLCBcbiAgICAgICAgcmVtb3RlLCBcbiAgICAgICAgaXRlbS5kYXRhLnVzZXJfaWRcbiAgICAgICk7XG4gICAgICBjb25zdCByZXNvbHZlZCA9IGNvbmZsaWN0UmVzdWx0LnJlc3VsdERhdGE7XG5cbiAgICBjb25zdCB7IGRlZmF1bHQ6IHN2YyB9ID0gYXdhaXQgaW1wb3J0KCdAL3NlcnZpY2VzL3N1cGFiYXNlJyk7XG4gICAgc3dpdGNoIChpdGVtLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0NSRUFURSc6XG4gICAgICAgIGF3YWl0IChzdmMgYXMgYW55KS5zYXZlQ29tcHVsc2lvbihyZXNvbHZlZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnVVBEQVRFJzpcbiAgICAgICAgYXdhaXQgKHN2YyBhcyBhbnkpLnNhdmVDb21wdWxzaW9uKHJlc29sdmVkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdERUxFVEUnOlxuICAgICAgICBhd2FpdCAoc3ZjIGFzIGFueSkuZGVsZXRlQ29tcHVsc2lvbihpdGVtLmRhdGEuaWQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyDinIUgUkVNT1ZFRDogc3luY0VSUFNlc3Npb24gbWV0aG9kIC0gRVJQIG1vZHVsZSBkZWxldGVkXG5cbiAgcHJpdmF0ZSBhc3luYyBzeW5jQUlQcm9maWxlKGl0ZW06IFN5bmNRdWV1ZUl0ZW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGRlZmF1bHQ6IHN2YyB9ID0gYXdhaXQgaW1wb3J0KCdAL3NlcnZpY2VzL3N1cGFiYXNlJyk7XG4gICAgY29uc3QgZCA9IGl0ZW0uZGF0YSB8fCB7fTtcbiAgICBhd2FpdCAoc3ZjIGFzIGFueSkudXBzZXJ0QUlQcm9maWxlKGQudXNlcl9pZCwgZC5wcm9maWxlX2RhdGEsICEhZC5vbmJvYXJkaW5nX2NvbXBsZXRlZCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHN5bmNUcmVhdG1lbnRQbGFuKGl0ZW06IFN5bmNRdWV1ZUl0ZW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGRlZmF1bHQ6IHN2YyB9ID0gYXdhaXQgaW1wb3J0KCdAL3NlcnZpY2VzL3N1cGFiYXNlJyk7XG4gICAgY29uc3QgZCA9IGl0ZW0uZGF0YSB8fCB7fTtcbiAgICBhd2FpdCAoc3ZjIGFzIGFueSkudXBzZXJ0QUlUcmVhdG1lbnRQbGFuKGQudXNlcl9pZCwgZC5wbGFuX2RhdGEsIGQuc3RhdHVzIHx8ICdhY3RpdmUnKTtcbiAgfVxuXG4gIC8vIHVzZXJfcHJvZ3Jlc3Mga2FsZMSxcsSxbGTEsSDigJMgcHJvZ3Jlc3Mgc2Vua3Jvbml6YXN5b251IEFJIHByb2ZpbGluZSB0YcWfxLFuZMSxIChnZXJla3RpxJ9pbmRlIGF5csSxIHNlcnZpcyBrdWxsYW7EsWxhY2FrKVxuXG4gIHByaXZhdGUgYXN5bmMgc3luY0FjaGlldmVtZW50KGl0ZW06IFN5bmNRdWV1ZUl0ZW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBTeW5jIGFjaGlldmVtZW50cyB0byBTdXBhYmFzZVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRlZmF1bHQ6IHN2YyB9ID0gYXdhaXQgaW1wb3J0KCdAL3NlcnZpY2VzL3N1cGFiYXNlJyk7XG4gICAgICBjb25zdCBkID0gaXRlbS5kYXRhIHx8IHt9O1xuICAgICAgc3dpdGNoIChpdGVtLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnQ1JFQVRFJzoge1xuICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IChzdmMgYXMgYW55KS5zdXBhYmFzZUNsaWVudFxuICAgICAgICAgICAgLmZyb20oJ3VzZXJfYWNoaWV2ZW1lbnRzJylcbiAgICAgICAgICAgIC51cHNlcnQoe1xuICAgICAgICAgICAgICB1c2VyX2lkOiBkLnVzZXJfaWQsXG4gICAgICAgICAgICAgIGFjaGlldmVtZW50X2lkOiBkLmFjaGlldmVtZW50X2lkLFxuICAgICAgICAgICAgICB1bmxvY2tlZF9hdDogZC51bmxvY2tlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIHByb2dyZXNzOiBkLnByb2dyZXNzID8/IDEwMCxcbiAgICAgICAgICAgICAgbWV0YWRhdGE6IGQubWV0YWRhdGEgfHwge30sXG4gICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIH0sIHsgb25Db25mbGljdDogJ3VzZXJfaWQsYWNoaWV2ZW1lbnRfaWQnIH0pO1xuICAgICAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnVVBEQVRFJzoge1xuICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IChzdmMgYXMgYW55KS5zdXBhYmFzZUNsaWVudFxuICAgICAgICAgICAgLmZyb20oJ3VzZXJfYWNoaWV2ZW1lbnRzJylcbiAgICAgICAgICAgIC51cGRhdGUoe1xuICAgICAgICAgICAgICBwcm9ncmVzczogZC5wcm9ncmVzcyxcbiAgICAgICAgICAgICAgbWV0YWRhdGE6IGQubWV0YWRhdGEsXG4gICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZXEoJ3VzZXJfaWQnLCBkLnVzZXJfaWQpXG4gICAgICAgICAgICAuZXEoJ2FjaGlldmVtZW50X2lkJywgZC5hY2hpZXZlbWVudF9pZCk7XG4gICAgICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignQWNoaWV2ZW1lbnQgc3luYyBmYWlsZWQ6JywgZSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxuXG4gIC8vIOKchSBGLTA0IEZJWDogQWRkIERFTEVURSBoYW5kbGluZyB0byBtb29kIGVudHJ5IHN5bmNcbiAgcHJpdmF0ZSBhc3luYyBzeW5jTW9vZEVudHJ5KGl0ZW06IFN5bmNRdWV1ZUl0ZW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCByYXcgPSBpdGVtLmRhdGEgfHwge307XG4gICAgY29uc3QgeyBkZWZhdWx0OiBzdmMgfSA9IGF3YWl0IGltcG9ydCgnQC9zZXJ2aWNlcy9zdXBhYmFzZScpO1xuXG4gICAgLy8gSGFuZGxlIERFTEVURSBvcGVyYXRpb25zXG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gJ0RFTEVURScpIHtcbiAgICAgIGlmIChyYXcuaWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCAoc3ZjIGFzIGFueSkuZGVsZXRlTW9vZEVudHJ5KHJhdy5pZCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBNb29kIGVudHJ5IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5OicsIHJhdy5pZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTW9vZCBlbnRyeSBkZWxldGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgIHRocm93IGVycm9yOyAvLyBMZXQgaXQgcmV0cnkgdmlhIERMUVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIERFTEVURSBza2lwcGVkOiBtaXNzaW5nIG1vb2QgZW50cnkgaWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgQ1JFQVRFL1VQREFURSBvcGVyYXRpb25zXG4gICAgLy8gTm9ybWFsaXplIHBheWxvYWQgYW5kIHNhdmUgdG8gdGhlIG5ldyBjYW5vbmljYWwgdGFibGU6IG1vb2RfZW50cmllc1xuICAgIC8vIEZhbGxiYWNrIHVzZXIgaWQgYWNxdWlzaXRpb25cbiAgICBsZXQgdXNlcklkID0gcmF3LnVzZXJfaWQgfHwgcmF3LnVzZXJJZDtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdWlkID0gKHN2YyBhcyBhbnkpPy5nZXRDdXJyZW50VXNlcj8uKCkgfHwgKHN2YyBhcyBhbnkpPy5jdXJyZW50VXNlciB8fCBudWxsO1xuICAgICAgaWYgKCF1c2VySWQgJiYgdWlkICYmIHR5cGVvZiB1aWQgPT09ICdvYmplY3QnICYmIHVpZC5pZCkgdXNlcklkID0gdWlkLmlkO1xuICAgIH0gY2F0Y2gge31cblxuICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgbW9vZF9zY29yZTogcmF3Lm1vb2Rfc2NvcmUgPz8gcmF3Lm1vb2QgPz8gNTAsXG4gICAgICBlbmVyZ3lfbGV2ZWw6IHJhdy5lbmVyZ3lfbGV2ZWwgPz8gcmF3LmVuZXJneSA/PyA1LFxuICAgICAgYW54aWV0eV9sZXZlbDogcmF3LmFueGlldHlfbGV2ZWwgPz8gcmF3LmFueGlldHkgPz8gNSxcbiAgICAgIG5vdGVzOiByYXcubm90ZXMgfHwgJycsXG4gICAgICB0cmlnZ2VyOiByYXcudHJpZ2dlciB8fCAnJyxcbiAgICB9O1xuXG4gICAgYXdhaXQgKHN2YyBhcyBhbnkpLnNhdmVNb29kRW50cnkoZW50cnkpO1xuICB9XG5cbiAgLy8g4pyFIEYtMDQgRklYOiBDb21wbGV0ZSBERUxFVEUgaW1wbGVtZW50YXRpb24gZm9yIHZvaWNlIGNoZWNraW5zXG4gIHByaXZhdGUgYXN5bmMgc3luY1ZvaWNlQ2hlY2tpbihpdGVtOiBTeW5jUXVldWVJdGVtKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyBkZWZhdWx0OiBzdmMgfSA9IGF3YWl0IGltcG9ydCgnQC9zZXJ2aWNlcy9zdXBhYmFzZScpO1xuICAgIHN3aXRjaCAoaXRlbS50eXBlKSB7XG4gICAgICBjYXNlICdDUkVBVEUnOlxuICAgICAgY2FzZSAnVVBEQVRFJzpcbiAgICAgICAgYXdhaXQgKHN2YyBhcyBhbnkpLnNhdmVWb2ljZUNoZWNraW4oaXRlbS5kYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdERUxFVEUnOlxuICAgICAgICAvLyDinIUgRi0wNCBGSVg6IEltcGxlbWVudCB2b2ljZSBjaGVja2luIGRlbGV0aW9uXG4gICAgICAgIGlmIChpdGVtLmRhdGE/LmlkKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IChzdmMgYXMgYW55KS5kZWxldGVWb2ljZUNoZWNraW4oaXRlbS5kYXRhLmlkKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgVm9pY2UgY2hlY2tpbiBkZWxldGVkIHN1Y2Nlc3NmdWxseTonLCBpdGVtLmRhdGEuaWQpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBWb2ljZSBjaGVja2luIGRlbGV0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjsgLy8gTGV0IGl0IHJldHJ5IHZpYSBETFFcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBERUxFVEUgc2tpcHBlZDogbWlzc2luZyB2b2ljZSBjaGVja2luIGlkJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8g4pyFIEYtMDQgRklYOiBDb21wbGV0ZSBERUxFVEUgaW1wbGVtZW50YXRpb24gZm9yIHRob3VnaHQgcmVjb3Jkc1xuICBwcml2YXRlIGFzeW5jIHN5bmNUaG91Z2h0UmVjb3JkKGl0ZW06IFN5bmNRdWV1ZUl0ZW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGRlZmF1bHQ6IHN2YyB9ID0gYXdhaXQgaW1wb3J0KCdAL3NlcnZpY2VzL3N1cGFiYXNlJyk7XG4gICAgc3dpdGNoIChpdGVtLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0NSRUFURSc6XG4gICAgICBjYXNlICdVUERBVEUnOlxuICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGEgQ0JUIHJlY29yZCBvciByZWd1bGFyIHRob3VnaHQgcmVjb3JkXG4gICAgICAgIGlmIChpdGVtLmRhdGEudGhvdWdodCAmJiBpdGVtLmRhdGEuZGlzdG9ydGlvbnMpIHtcbiAgICAgICAgICAvLyBDQlQgcmVjb3JkIGZvcm1hdFxuICAgICAgICAgIGF3YWl0IChzdmMgYXMgYW55KS5zYXZlQ0JUUmVjb3JkKGl0ZW0uZGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5kYXRhLmF1dG9tYXRpY190aG91Z2h0KSB7XG4gICAgICAgICAgLy8gUmVndWxhciB0aG91Z2h0IHJlY29yZFxuICAgICAgICAgIGF3YWl0IChzdmMgYXMgYW55KS5zYXZlVGhvdWdodFJlY29yZChpdGVtLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignVW5rbm93biB0aG91Z2h0IHJlY29yZCBmb3JtYXQ6JywgaXRlbS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0RFTEVURSc6XG4gICAgICAgIC8vIOKchSBGLTA0IEZJWDogSW1wbGVtZW50IHRob3VnaHQgcmVjb3JkIGRlbGV0aW9uXG4gICAgICAgIGlmIChpdGVtLmRhdGE/LmlkKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IChzdmMgYXMgYW55KS5kZWxldGVUaG91Z2h0UmVjb3JkKGl0ZW0uZGF0YS5pZCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFRob3VnaHQgcmVjb3JkIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5OicsIGl0ZW0uZGF0YS5pZCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFRob3VnaHQgcmVjb3JkIGRlbGV0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjsgLy8gTGV0IGl0IHJldHJ5IHZpYSBETFFcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBERUxFVEUgc2tpcHBlZDogbWlzc2luZyB0aG91Z2h0IHJlY29yZCBpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlRmFpbGVkU3luYyhpdGVtOiBTeW5jUXVldWVJdGVtKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN5bmMgaXRlbSBhZnRlciBtYXggcmV0cmllczonLCBpdGVtKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZGVhZExldHRlclF1ZXVlLmFkZFRvRGVhZExldHRlcih7XG4gICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgIGVudGl0eTogaXRlbS5lbnRpdHksXG4gICAgICAgIGRhdGE6IGl0ZW0uZGF0YSxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAnTWF4IHJldHJpZXMgZXhjZWVkZWQnLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gRmFsbGJhY2s6IHBlcnNpc3QgbWluaW1hbCBpbmZvXG4gICAgICBjb25zdCBjdXJyZW50VXNlcklkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VySWQnKTtcbiAgICAgIGNvbnN0IGZhaWxlZEtleSA9IGBmYWlsZWRTeW5jSXRlbXNfJHtzYWZlU3RvcmFnZUtleShjdXJyZW50VXNlcklkIGFzIGFueSl9YDtcbiAgICAgIGNvbnN0IGZhaWxlZEl0ZW1zID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oZmFpbGVkS2V5KTtcbiAgICAgIGNvbnN0IGZhaWxlZCA9IGZhaWxlZEl0ZW1zID8gSlNPTi5wYXJzZShmYWlsZWRJdGVtcykgOiBbXTtcbiAgICAgIGZhaWxlZC5wdXNoKGl0ZW0pO1xuICAgICAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oZmFpbGVkS2V5LCBKU09OLnN0cmluZ2lmeShmYWlsZWQpKTtcbiAgICB9XG4gIH1cblxuICAvLyBMb2NhbCBzdG9yYWdlIG1ldGhvZHMgZm9yIG9mZmxpbmUgb3BlcmF0aW9uc1xuICBhc3luYyBzdG9yZUNvbXB1bHNpb25Mb2NhbGx5KGNvbXB1bHNpb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjdXJyZW50VXNlcklkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VySWQnKTtcbiAgICAgIGNvbnN0IGxvY2FsS2V5ID0gYGxvY2FsQ29tcHVsc2lvbnNfJHtzYWZlU3RvcmFnZUtleShjdXJyZW50VXNlcklkIGFzIGFueSl9YDtcbiAgICAgIGNvbnN0IHN0b3JlZCA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKGxvY2FsS2V5KTtcbiAgICAgIGNvbnN0IGNvbXB1bHNpb25zID0gc3RvcmVkID8gSlNPTi5wYXJzZShzdG9yZWQpIDogW107XG4gICAgICBcbiAgICAgIGNvbXB1bHNpb25zLnB1c2goe1xuICAgICAgICAuLi5jb21wdWxzaW9uLFxuICAgICAgICBsb2NhbElkOiBgbG9jYWxfJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIHN5bmNlZDogZmFsc2UsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKGxvY2FsS2V5LCBKU09OLnN0cmluZ2lmeShjb21wdWxzaW9ucykpO1xuICAgICAgXG4gICAgICAvLyBBZGQgdG8gc3luYyBxdWV1ZVxuICAgICAgYXdhaXQgdGhpcy5hZGRUb1N5bmNRdWV1ZSh7XG4gICAgICAgIHR5cGU6ICdDUkVBVEUnLFxuICAgICAgICBlbnRpdHk6ICdjb21wdWxzaW9uJyxcbiAgICAgICAgZGF0YTogY29tcHVsc2lvbixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdG9yaW5nIGNvbXB1bHNpb24gbG9jYWxseTonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0TG9jYWxDb21wdWxzaW9ucygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXJJZCcpO1xuICAgICAgY29uc3QgbG9jYWxLZXkgPSBgbG9jYWxDb21wdWxzaW9uc18ke3NhZmVTdG9yYWdlS2V5KGN1cnJlbnRVc2VySWQgYXMgYW55KX1gO1xuICAgICAgY29uc3Qgc3RvcmVkID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0obG9jYWxLZXkpO1xuICAgICAgcmV0dXJuIHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IFtdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGxvY2FsIGNvbXB1bHNpb25zOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvLyDinIUgRi0wMSBGSVg6IEVSUCBzZXNzaW9uIG1ldGhvZHMgUkVNT1ZFRFxuICAvLyBFUlAgbW9kdWxlIGhhcyBiZWVuIGRlbGV0ZWQgZnJvbSB0aGUgYXBwbGljYXRpb24uXG4gIC8vIFRoZXNlIG1ldGhvZHMgd2VyZSBjcmVhdGluZyBnaG9zdCAnZXJwX3Nlc3Npb24nIGVudGl0aWVzIGluIHRoZSBzeW5jIHF1ZXVlLlxuICAvLyBJZiBsZWdhY3kgY29kZSBjYWxscyB0aGVzZSBtZXRob2RzLCB0aGV5IHdpbGwgYmUgbm8tb3BzLlxuXG4gIGlzT25saW5lTW9kZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc09ubGluZTtcbiAgfVxuXG4gIGdldFN5bmNRdWV1ZUxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnN5bmNRdWV1ZS5sZW5ndGg7XG4gIH1cblxuICBhc3luYyBmb3JjZVN5bmNOb3coKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgaWYgKCF0aGlzLmlzT25saW5lKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5wcm9jZXNzU3luY1F1ZXVlKCk7XG4gICAgcmV0dXJuIHRoaXMuc3luY1F1ZXVlLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG4gIGFzeW5jIGNsZWFyU3luY1F1ZXVlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuc3luY1F1ZXVlID0gW107XG4gICAgYXdhaXQgdGhpcy5zYXZlU3luY1F1ZXVlKCk7XG4gIH1cblxuICAvKipcbiAgICogQmF0Y2ggY29uZmxpY3QtYXdhcmUgc3luYyBlbnRyeXBvaW50XG4gICAqL1xuICBhc3luYyBzeW5jV2l0aENvbmZsaWN0UmVzb2x1dGlvbihiYXRjaFNpemU6IG51bWJlciA9IDEwKTogUHJvbWlzZTx7IHN1Y2Nlc3NmdWw6IG51bWJlcjsgZmFpbGVkOiBudW1iZXI7IGNvbmZsaWN0czogbnVtYmVyOyB9PntcbiAgICBjb25zdCByZXN1bHQgPSB7IHN1Y2Nlc3NmdWw6IDAsIGZhaWxlZDogMCwgY29uZmxpY3RzOiAwIH07XG4gICAgaWYgKCF0aGlzLmlzT25saW5lIHx8IHRoaXMuc3luY1F1ZXVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc3VsdDtcbiAgICBjb25zdCBpdGVtcyA9IFsuLi50aGlzLnN5bmNRdWV1ZV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICBjb25zdCBiYXRjaCA9IGl0ZW1zLnNsaWNlKGksIGkgKyBiYXRjaFNpemUpO1xuICAgICAgY29uc3Qgc2V0dGxlZCA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChiYXRjaC5tYXAoKGl0KSA9PiB0aGlzLnN5bmNJdGVtKGl0KSkpO1xuICAgICAgc2V0dGxlZC5mb3JFYWNoKChyLCBpZHgpID0+IHtcbiAgICAgICAgaWYgKHIuc3RhdHVzID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgICAgIHJlc3VsdC5zdWNjZXNzZnVsKys7XG4gICAgICAgICAgdGhpcy5zeW5jUXVldWUgPSB0aGlzLnN5bmNRdWV1ZS5maWx0ZXIocSA9PiBxLmlkICE9PSBiYXRjaFtpZHhdLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuZmFpbGVkKys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYXdhaXQgdGhpcy5zYXZlU3luY1F1ZXVlKCk7XG4gICAgfVxuICAgIHRyeSB7IGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKCdsYXN0X3N5bmNfc3VtbWFyeScsIEpTT04uc3RyaW5naWZ5KHsgLi4ucmVzdWx0LCBhdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pKTsgfSBjYXRjaCB7fVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IG9mZmxpbmVTeW5jU2VydmljZSA9IE9mZmxpbmVTeW5jU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFHQSxJQUFBRyx3QkFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksZ0JBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLGVBQUEsR0FBQUwsT0FBQTtBQUNBLElBQUFNLGVBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUE0RCxJQWEvQ08sa0JBQWtCLEdBQUFDLE9BQUEsQ0FBQUQsa0JBQUE7RUFhN0IsU0FBQUEsbUJBQUEsRUFBYztJQUFBLElBQUFFLGdCQUFBLENBQUFDLE9BQUEsUUFBQUgsa0JBQUE7SUFBQSxLQVhOSSxRQUFRLEdBQVksSUFBSTtJQUFBLEtBQ3hCQyxTQUFTLEdBQW9CLEVBQUU7SUFBQSxLQUMvQkMsU0FBUyxHQUFZLEtBQUs7SUFVaEMsSUFBSSxDQUFDQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQ2hDLElBQUksQ0FBQ0MsYUFBYSxDQUFDLENBQUM7RUFDdEI7RUFBQyxXQUFBQyxhQUFBLENBQUFOLE9BQUEsRUFBQUgsa0JBQUE7SUFBQVUsR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBUUoseUJBQXlCQSxDQUFBLEVBQVM7TUFBQSxJQUFBSyxLQUFBO01BQ3hDQyxnQkFBTyxD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